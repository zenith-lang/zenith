#!/usr/bin/env zenith

arg_a 3
arg_b 2
zero_char 48
addition " + "
subtraction " - "
multiplication " x "
division " / "
equals " = "
newline "
"
newline_len #newline;
reg_0 0

$ write {
    push 1;
    push 4;
    syscall;
    ignore;
}

$ exit {
    push 1;
    syscall;
}

$ print {
    push 1;
    add zero_char arg_a;
    call write;

    pop reg_0;
    push 3;
    push reg_0;
    call write;

    push 1;
    add zero_char arg_b;
    call write;

    push 3;
    push equals;
    call write;

    pop reg_0;
    push 1;
    add reg_0 zero_char;
    call write;

    push newline_len;
    push newline;
    call write;
}

$ main {
    add arg_a arg_b;
    push addition;
    call print;

    sub arg_a arg_b;
    push subtraction;
    call print;

    mul arg_a arg_b;
    push multiplication;
    call print;

    div arg_a arg_b;
    push division;
    call print;

    call exit;
}
